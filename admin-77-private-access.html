<!DOCTYPE html>
<html>
<body style="background:#111; color:white; font-family:sans-serif; text-align:center; padding:50px;">
    <h2>Sportsclusive Admin</h2>
    <input id="token" type="password" placeholder="GitHub Token" style="width:300px; padding:10px;"><br><br>
    <input id="title" type="text" placeholder="Headline" style="width:300px; padding:10px;"><br><br>
    <textarea id="msg" placeholder="Story" style="width:300px; height:100px; padding:10px;"></textarea><br><br>
    <button onclick="send()" style="padding:10px 40px; background:#00d278; border:none; cursor:pointer;">POST ARTICLE</button>
    <p id="out"></p>

    <script>
        async function send() {
            const t = document.getElementById('token').value;
            const h = document.getElementById('title').value;
            const b = document.getElementById('msg').value;
            const slug = h.toLowerCase().replace(/ /g, '-');
            
            const res = await fetch(`https://api.github.com/repos/mayukh18052012-cell/sportsclusive/contents/_posts/${slug}.md`, {
                method: 'PUT',
                headers: { 'Authorization': `token ${t}` },
                body: JSON.stringify({
                    message: "Post",
                    content: btoa(`---\ntitle: ${h}\n---\n${b}`)
                })
            });
            document.getElementById('out').innerText = res.ok ? "LIVE!" : "FAILED";
        }
    </script>
</body>
</html>
